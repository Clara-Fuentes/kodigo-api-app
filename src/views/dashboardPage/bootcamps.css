/* =========================================================
   KODIGO UI · Estilo integrado (claro/oscuro)
   ========================================================= */

/* ---------- tokens base ---------- */
:root{
  --bg:#f6f8fc; --panel:#fff; --text:#0f172a; --muted:#6b7280;
  --primary:#0a46ff; --primary-600:#0736c9; --border:#e7eaf2;
  --chip:#eef2ff; --chip-text:#1e3a8a;
  --shadow-sm:0 1px 2px rgba(16,24,40,.05);
  --shadow-md:0 6px 18px rgba(17,24,39,.06);
}

/* ---------- reset / base ---------- */
*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text)}

/* ---------- topbar ---------- */
.topbar{
  position:sticky;top:0;z-index:30;
  display:flex;align-items:center;gap:12px;
  height:56px;padding:0 16px;
  background:var(--panel);border-bottom:1px solid var(--border);
  box-shadow:0 2px 6px rgba(17,24,39,.03);
  backdrop-filter:saturate(180%) blur(8px);
}
.topbar__brand{display:flex;align-items:center;gap:10px}
.brand-icon{color:var(--primary)}
.brand-text{font-weight:700;letter-spacing:-.01em}
.topbar__spacer{flex:1}
.topbar__btn,
.btn,
.view{
  border:1px solid var(--border);background:#fff;color:#111827;
  border-radius:12px;padding:10px 12px;
  display:inline-flex;align-items:center;justify-content:center;gap:8px;
  transition:transform .15s,box-shadow .15s,background .15s,border-color .15s;
  box-shadow:var(--shadow-sm)
}
.topbar__btn:hover,.btn:hover,.view:hover{transform:translateY(-1px);box-shadow:var(--shadow-md)}
.topbar__btn{width:34px;height:34px;border-radius:10px;margin-right:8px}
.topbar__avatar{width:34px;height:34px;border-radius:50%;overflow:hidden;border:1px solid var(--border);background:#e5e7eb}
.topbar__avatar img{width:100%;height:100%;object-fit:cover}

/* Toggle de tema (más grande) */
.theme-toggle{
  width:42px;height:42px;padding:0;display:grid;place-items:center;
  border-radius:12px;border:1px solid var(--border);background:#fff;color:#334155;
  box-shadow:var(--shadow-sm);cursor:pointer;transition:transform .15s,box-shadow .15s,background .15s,border-color .15s
}
.theme-toggle:hover{transform:translateY(-1px);box-shadow:var(--shadow-md)}
.theme-toggle .sun{display:inline-block}
.theme-toggle .moon{display:none}

/* ---------- layout / sidebar ---------- */
.layout{display:grid;grid-template-columns:260px 1fr;gap:24px;padding:20px 24px}
.layout--full{width:100%;max-width:none}
.main{min-width:0}

.sidebar{
  position:sticky;top:20px;align-self:start;background:var(--panel);
  border:1px solid var(--border);border-radius:16px;padding:14px;box-shadow:var(--shadow-md)
}
.sidebar--full{height:calc(100vh - 40px);display:flex;flex-direction:column}
.sidebar__bottom{margin-top:auto;padding-top:8px;border-top:1px dashed var(--border)}
.chk{display:flex;align-items:center;gap:8px;font-size:12px;color:#475569}

.brand{display:flex;align-items:center;gap:10px;margin:4px 0 10px}
.brand__logo{width:32px;height:32px;border-radius:8px;background:var(--primary);color:#fff;display:grid;place-items:center;font-weight:700}
.nav{display:grid;gap:6px}
.nav__link{
  display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:12px;
  color:#111827;background:#fff;border:1px solid var(--border);cursor:pointer;
  transition:transform .15s,box-shadow .15s
}
.nav__link:hover{background:#f1f5fb;transform:translateY(-1px);box-shadow:var(--shadow-sm)}
.nav__link.is-active{background:#eef2ff;border-color:#dbeafe;color:#1e3a8a}
.pill{background:#eef2ff;color:#3730a3;border-radius:999px;padding:2px 8px;font-size:12px}

/* ---------- header / toolbar ---------- */
.header h1{margin:0 0 6px;font-size:34px;letter-spacing:-.02em}
.header p{margin:0;color:var(--muted);font-size:14px}

.toolbar{display:flex;align-items:center;justify-content:space-between;gap:12px;margin:18px 0 14px;flex-wrap:wrap}
.tabs{display:flex;gap:8px}
.tab{border:1px solid var(--border);background:#fff;color:#111827;padding:8px 14px;border-radius:999px;font-size:14px;box-shadow:var(--shadow-sm)}
.tab.is-on{background:#eef2ff;border-color:#dbeafe;color:#1e3a8a}
.tools{display:flex;align-items:center;gap:10px}

.search{
  display:flex;align-items:center;gap:8px;background:#fff;border:1px solid var(--border);
  border-radius:999px;padding:10px 14px;width:480px;max-width:44vw;box-shadow:var(--shadow-sm)
}
.search input{border:0;outline:0;width:100%;font-size:14px;background:transparent;color:#111827}
.search input::placeholder{color:#8b95a7}

.view.is-on{background:#eef2ff;border-color:#dbeafe}
.btn--icon{width:36px;height:36px;padding:0;display:grid;place-items:center;border-radius:12px}
.btn--primary{background:var(--primary);border-color:var(--primary);color:#fff}
.btn--primary:hover{background:var(--primary-600)}
.btn--ghost{background:#fff;border:1px solid var(--border)}
.btn:focus-visible,.topbar__btn:focus-visible,.view:focus-visible,.tab:focus-visible,.nav__link:focus-visible,.back-link:focus-visible{
  outline:0;box-shadow:0 0 0 3px rgba(59,130,246,.25)
}

/* ---------- estados vacíos ---------- */
.empty{background:#fff;border:1px dashed var(--border);color:var(--muted);border-radius:16px;padding:32px;text-align:center}
.empty.error{border-style:solid;border-color:#fecaca;color:#991b1b}

/* ---------- grid / cards ---------- */
.grid{display:grid;gap:20px}
.grid--fill{grid-template-columns:repeat(auto-fill,minmax(320px,1fr))}

.card{
  background:var(--panel);border:1px solid var(--border);border-radius:16px;
  overflow:hidden;display:flex;flex-direction:column;
  transition:transform .15s,box-shadow .15s,border-color .15s
}
.card:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);border-color:#dfe4ee}
.card--elev{overflow:hidden;transition:transform .2s,box-shadow .2s}
.card--elev:hover{transform:translateY(-2px);box-shadow:0 10px 24px rgba(17,24,39,.10)}
.card.is-deleted{opacity:.55;filter:grayscale(60%)}

.card__media{position:relative;height:224px;background:#edf2f7}
.card__media img{width:100%;height:100%;object-fit:cover;display:block}
.ph{position:absolute;inset:0;display:grid;place-items:center}
.ph::after{content:"";width:90px;height:90px;border:2px dashed #d1d5db;border-radius:14px}

.fav{position:absolute;top:10px;right:10px;background:#fff;border:1px solid var(--border);border-radius:999px;padding:6px;display:grid;place-items:center}
.card__toolbar{position:absolute;top:10px;left:10px;display:flex;gap:6px;z-index:2}

.card__body{padding:16px}
.card__body--lg{padding:24px}
.card__footer{padding:24px;padding-top:0}

.badges{display:flex;gap:8px;margin-bottom:12px}
.badge,.chip{
  display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;font-size:12px;
  border:1px solid var(--border);background:#fff;color:#111827
}
.badge--secondary{background:#f3f6ff;border-color:#dbeafe;color:#1e3a8a}
.badge--outline{background:#fff;border-color:#e5e7eb;color:#374151}
.badge--primary{background:var(--primary);color:#fff;border-color:var(--primary)}
.badge--floating{position:absolute;top:12px;left:12px}

.card__title{margin:0 0 6px;font-size:18px;line-height:1.25;letter-spacing:-.01em}
.card__desc{margin:0 0 10px;color:var(--muted);font-size:14px;line-height:1.45;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}

.meta-row{display:flex;align-items:center;justify-content:space-between;margin-top:auto;font-size:14px}
.meta-row .meta__left{display:flex;align-items:center;gap:6px;color:var(--muted)}
.meta-row .meta__price{font-weight:800;letter-spacing:.2px;color:#0f172a} /* precio claro */

.muted{color:var(--muted);display:flex;align-items:center;gap:6px}
.strong{font-weight:700}

/* iconos de toolbar */
.icon-btn{
  width:34px;height:34px;display:grid;place-items:center;
  border-radius:10px;border:1px solid var(--border);background:rgba(255,255,255,.95);
  color:#334155;box-shadow:var(--shadow-sm);backdrop-filter:blur(4px);
  transition:transform .15s,box-shadow .15s,background .15s,border-color .15s
}
.icon-btn:hover{transform:translateY(-1px);box-shadow:var(--shadow-md)}
.icon-btn--warn{color:#b91c1c;border-color:#fecaca;background:#fff5f5}
.icon-btn--restore{color:#065f46;border-color:#bbf7d0;background:#f0fdf4}

/* ---------- tabla ---------- */
.table-wrapper{background:#fff;border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow-sm);overflow:auto}
.table{width:100%;border-collapse:separate;border-spacing:0}
.table thead th{position:sticky;top:0;background:#fafbff;border-bottom:1px solid var(--border);text-align:left;font-size:12px;color:#6b7280;padding:12px}
.table tbody td{padding:14px;border-bottom:1px solid var(--border);font-size:14px}
.table tbody tr:hover{background:#f9fbff}
.row-deleted{opacity:.55;filter:grayscale(60%)}

/* ---------- detail / hero ---------- */
.container--full{width:100%;max-width:1400px;margin:0 auto;padding:20px 28px;min-height:100vh}

/* back-link */
.back-link{
  display:inline-flex;align-items:center;gap:6px;
  padding:6px 10px;border-radius:10px;border:1px solid var(--border);
  background:#fff;color:#111827;text-decoration:none;cursor:pointer;box-shadow:var(--shadow-sm)
}
.back-link:hover{background:#f3f6ff}
.back-link svg{color:currentColor}

.hero{
  display:grid;grid-template-columns:minmax(0,1fr) 660px;gap:28px;background:#fff;border:1px solid var(--border);
  border-radius:16px;padding:24px;box-shadow:var(--shadow-md)
}
.hero__media{position:relative;height:420px;background:#edf2f7;border-radius:12px;overflow:hidden}
.hero__media img{width:100%;height:100%;object-fit:cover}
.hero__title{margin:6px 0 8px;font-size:42px;line-height:1.1}
.hero__desc{margin:0 0 16px;color:var(--muted);max-width:62ch}
.kpis{display:flex;gap:14px;margin:14px 0 18px}
.kpi{background:#fff;border:1px solid var(--border);border-radius:16px;padding:16px 18px;min-width:230px}
.kpi--accent{background:#fde7ff;border-color:#f5d0fe}
.kpi__label{font-size:12px;color:var(--muted)}
.kpi__value{font-weight:800;font-size:18px}
.cta{display:flex;gap:12px}

/* ---------- modal + form ---------- */
.modal__backdrop{position:fixed;inset:0;background:rgba(15,23,42,.45);display:grid;place-items:center;padding:20px;z-index:50}
.modal{width:min(720px,100%);background:#fff;border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow-md);overflow:hidden}
.modal__header{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid var(--border)}
.modal__body{padding:16px}
.modal__footer{padding:12px 16px;border-top:1px solid var(--border);display:flex;justify-content:flex-end;gap:8px}
.form{display:grid;gap:12px}
.form__row{display:grid;gap:6px}
.form__row--2{grid-template-columns:1fr 1fr;gap:12px}
.form input,.form select,.form textarea{
  width:100%;border:1px solid var(--border);border-radius:12px;padding:10px 12px;background:#fff;color:#0f172a
}
.form input::placeholder,.form textarea::placeholder{color:#8891a1}
.form input:focus,.form select:focus,.form textarea:focus{outline:0;border-color:#3b82f6;box-shadow:0 0 0 3px rgba(59,130,246,.20)}
.form__actions{display:flex;justify-content:flex-end}

/* ---------- dark mode ---------- */
[data-theme="dark"]{
  --bg:#0b1020; --panel:#0f172a; --text:#e5e7eb; --muted:#9aa4b2;
  --border:#1f2937; --chip:#172554; --chip-text:#c7d2fe;
  --primary:#3b82f6; --primary-600:#2563eb;
  color-scheme:dark;
}

/* topbar */
[data-theme="dark"] .topbar{background:var(--panel);border-bottom:1px solid var(--border);box-shadow:0 2px 6px rgba(0,0,0,.25)}
[data-theme="dark"] .topbar__btn{background:#111827;border-color:#253246;color:#e5e7eb}
[data-theme="dark"] .topbar__avatar{border-color:#253246;background:#0b1222}
[data-theme="dark"] .theme-toggle{background:#111827;border-color:#253246;color:#e5e7eb}
[data-theme="dark"] .theme-toggle .sun{display:none}
[data-theme="dark"] .theme-toggle .moon{display:inline-block}

/* layout / sidebar / nav */
[data-theme="dark"] body{background:var(--bg);color:var(--text)}
[data-theme="dark"] .sidebar{background:var(--panel);border-color:var(--border);box-shadow:none}
[data-theme="dark"] .brand__logo{background:var(--primary)}
[data-theme="dark"] .nav__link{background:#111827;border-color:#253246;color:#e5e7eb}
[data-theme="dark"] .nav__link:hover{background:#13213a}
[data-theme="dark"] .nav__link.is-active{background:#13213a;border-color:#2a3e66;color:#dbeafe}
[data-theme="dark"] .pill{background:#13213a;color:#c7d2fe}

/* toolbar / controles derecha */
[data-theme="dark"] .tab,
[data-theme="dark"] .search,
[data-theme="dark"] .view,
[data-theme="dark"] .btn,
[data-theme="dark"] .btn--ghost{background:#111827;border-color:#253246;color:#e5e7eb}
[data-theme="dark"] .tab.is-on,[data-theme="dark"] .view.is-on{background:#13213a;border-color:#2a3e66}
[data-theme="dark"] .search{box-shadow:inset 0 0 0 1px rgba(59,130,246,.08)}
[data-theme="dark"] .search input{color:#e5e7eb}
[data-theme="dark"] .search input::placeholder{color:#7b88a2}
[data-theme="dark"] .btn--primary{background:var(--primary);border-color:var(--primary)}

/* cards */
[data-theme="dark"] .card{background:var(--panel);border-color:var(--border);box-shadow:none}
[data-theme="dark"] .card:hover{box-shadow:0 10px 24px rgba(0,0,0,.35)}
[data-theme="dark"] .card__media{background:#0e1526}
[data-theme="dark"] .card__desc{color:#9aa4b2}
[data-theme="dark"] .fav,[data-theme="dark"] .icon-btn{background:#111827;border-color:#253246;color:#e5e7eb}
[data-theme="dark"] .icon-btn--warn{color:#fca5a5;border-color:#7f1d1d;background:#2b0f12}
[data-theme="dark"] .icon-btn--restore{color:#86efac;border-color:#064e3b;background:#0b2b22}
[data-theme="dark"] .badge--secondary{background:#172554;border-color:#1e3a8a;color:#c7d2fe}
[data-theme="dark"] .badge--outline{background:#111827;border-color:#253246;color:#cbd5e1}
/* precio visible en oscuro */
[data-theme="dark"] .meta-row .meta__price{color:#e8edff;text-shadow:0 1px 0 rgba(0,0,0,.18)}

/* tabla */
[data-theme="dark"] .table-wrapper{background:var(--panel);border-color:var(--border);box-shadow:none}
[data-theme="dark"] .table thead th{background:#111827;border-color:#253246;color:#a3b2c7}
[data-theme="dark"] .table tbody td{border-color:#1d2740}
[data-theme="dark"] .table tbody tr:hover{background:#101a2d}

/* detail / hero / back-link */
[data-theme="dark"] .hero{background:var(--panel);border-color:var(--border);box-shadow:none}
[data-theme="dark"] .hero__media{background:#0e1526}
[data-theme="dark"] .kpi{background:#0f1b34;border-color:#243453}
[data-theme="dark"] .kpi--accent{background:#2b1b2f;border-color:#4a164d}
[data-theme="dark"] .back-link{background:#111827;border-color:#253246;color:#e5e7eb}
[data-theme="dark"] .back-link:hover{background:#13213a}

/* modal oscuro + formulario */
[data-theme="dark"] .modal__backdrop{background:rgba(2,6,23,.65)}
[data-theme="dark"] .modal{background:#0f172a;border-color:#253246;box-shadow:0 30px 80px rgba(0,0,0,.6)}
[data-theme="dark"] .modal__header,[data-theme="dark"] .modal__footer{border-color:#253246}
[data-theme="dark"] .form input,[data-theme="dark"] .form select,[data-theme="dark"] .form textarea{
  background:#0e1628;border-color:#2a3e66;color:#e5e7eb
}
[data-theme="dark"] .form input::placeholder,[data-theme="dark"] .form textarea::placeholder{color:#7c889f}

/* ---------- responsive ---------- */
@media (max-width:1300px){ .hero{grid-template-columns:1fr} .hero__media{order:-1;height:320px} }
@media (max-width:960px){
  .layout{grid-template-columns:1fr}
  .sidebar{position:static;height:auto}
  .grid--fill{grid-template-columns:1fr}
  .form__row--2{grid-template-columns:1fr}
}

/* ---------- segmented tabs (detalle) ---------- */
.segbar{display:flex;gap:0;background:#f3f6ff;border:1px solid var(--border);border-radius:12px;overflow:hidden}
.segbar__btn{flex:1;padding:10px 14px;background:transparent;border:0;color:var(--muted);font-size:14px;cursor:pointer}
.segbar__btn.is-on{background:#fff;color:var(--text)}
[data-theme="dark"] .segbar{background:#101a2d;border-color:#233149}
[data-theme="dark"] .segbar__btn{color:#9aa4b2}
[data-theme="dark"] .segbar__btn.is-on{background:#0f172a;color:#e5e7eb}

/* ---------- sección ¿Qué aprenderás? ---------- */
.learn{background:#fff;border:1px solid var(--border);border-radius:16px;padding:18px;box-shadow:var(--shadow-md);margin-top:10px}
.learn__title{margin:0 0 6px;font-size:22px;font-weight:800}
.learn__subtitle{margin:0 0 14px;color:var(--muted)}
.learn__grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.learn__card{background:#f6f8ff;border:1px solid #e7ebff;border-radius:12px;padding:14px}
.learn__card h3{margin:0 0 6px;font-size:15px}
.learn__card p{margin:0;color:#64748b;font-size:14px}
[data-theme="dark"] .learn{background:var(--panel);border-color:var(--border);box-shadow:none}
[data-theme="dark"] .learn__card{background:#0f1b34;border-color:#20365c}

/* indicador opcional */
.pulse-dot{width:8px;height:8px;border-radius:999px;background:#f59e0b;box-shadow:0 0 0 0 rgba(245,158,11,.6);display:inline-block;animation:pulse 2s infinite}
@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(245,158,11,.6)}70%{box-shadow:0 0 0 12px rgba(245,158,11,0)}100%{box-shadow:0 0 0 0 rgba(245,158,11,0)}}


/* ====== Toggle de tema (más grande y visible) ====== */
.topbar__btn.theme-toggle{
  width:44px; height:44px; padding:0; border-radius:12px;
  display:grid; place-items:center; font-size:0;
}
.topbar__btn.theme-toggle svg{ width:20px; height:20px }
.theme-toggle .sun{ display:inline-block }
.theme-toggle .moon{ display:none }
[data-theme="dark"] .theme-toggle{ background:#111827; border-color:#253246; color:#e5e7eb }
[data-theme="dark"] .theme-toggle .sun{ display:none }
[data-theme="dark"] .theme-toggle .moon{ display:inline-block }

/* ====== Botones icon-only del toolbar (a la par de “Nuevo”) ====== */
.tools .btn--icon{
  width:40px; height:40px; padding:0; border-radius:12px;
  display:grid; place-items:center; line-height:0;
  background:#fff; border:1px solid var(--border); color:#334155;
  box-shadow:var(--shadow-sm); transition:transform .15s, box-shadow .15s, background .15s;
}
.tools .btn--icon:hover{ transform:translateY(-1px); box-shadow:var(--shadow-md) }
.tools .btn--icon svg{ width:18px; height:18px }
.tools .btn--icon svg *, 
.tools .btn--icon svg path, 
.tools .btn--icon svg circle, 
.tools .btn--icon svg rect, 
.tools .btn--icon svg line, 
.tools .btn--icon svg polyline{
  stroke:currentColor !important; fill:none !important;
}

[data-theme="dark"] .tools .btn--icon{
  background:#111827; border-color:#2a3e66; color:#e5e7eb;
  box-shadow:inset 0 0 0 1px rgba(59,130,246,.08);
}
[data-theme="dark"] .tools .btn--icon:hover{ background:#13213a }

/* (Extra) precio legible en oscuro – ya corregido pero lo dejamos aquí también */
.meta-row .meta__price{ font-weight:800; letter-spacing:.2px; color:#0f172a }
[data-theme="dark"] .meta-row .meta__price{ color:#e8edff; text-shadow:0 1px 0 rgba(0,0,0,.18) }
